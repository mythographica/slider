(this["webpackJsonpmnemonica-react-slides"]=this["webpackJsonpmnemonica-react-slides"]||[]).push([[0],{391:function(t,e,n){t.exports=n(842)},414:function(t,e,n){},758:function(t,e){},842:function(t,e,n){"use strict";n.r(e);var s=n(107),r=n.n(s),i=n(37),o=(n(414),n(0)),a=n.n(o),c=n(844),l=n(315);const d=function(){if(this.failConstructorItself)throw new Error("some ".concat(this.constructor.name," fail"));this.rootElement=document.getElementById(this.rootId);const t=this.slides,e=this.counters,n=t.current,s=n.view,r=n.snowflakes,i=new this[s];this.SlideView=i.View.bind(i),i.Footer instanceof Function&&(this.footer=new i.Footer(e),this.FooterView=this.footer.View.bind(this.footer)),i.Progressor instanceof Function&&(this.progressor=new i.Progressor,this.ProgressorView=this.progressor.View.bind(this.progressor)),this.stopSnowflakes(),r&&this.startSnowflakes()};d.prototype.View=function(){const t=this.SlideView;r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,{theme:l.a},a.a.createElement("div",{className:"Slide"},a.a.createElement(t,null)))),this.rootElement)};var h=d;const p=function(){Object.assign(this,this.slides.current)};p.prototype.View=function(){return a.a.createElement("div",{className:"SlideContent"},a.a.createElement("div",{className:"Title",onClick:this.clickNext},a.a.createElement("h1",null,this.title),a.a.createElement("h1",{className:"subtitle"},this.subtitle)))};var u=p;const m=function(){Object.assign(this,this.slides.current)};m.prototype.View=function(){const t=this.ProgressorView,e=this.FooterView;return a.a.createElement("div",{className:"StarterSlide"},a.a.createElement(t,null),a.a.createElement("div",null,a.a.createElement("h1",null,this.title),a.a.createElement("p",null,this.author)),a.a.createElement(e,null))};var f=m,w=n(318),x=n(109),g=n.n(x),y=n(317),E=n(9);const S={tree:function({chartData:t,dy:e,dx:n,margin:s,width:r,stash:i,hidden:o,print:a}){const c=E.d(t),l=E.j().nodeSize([e,n]),d=E.f().x(t=>t.y).y(t=>t.x);c.x0=e,c.y0=0,c.descendants().forEach((t,e)=>{t.id=e,t._children=t.children,a||t.depth&&i&&i.includes(t.data.name)&&(t.children=null)});const h=E.b("svg").attr("viewBox",[-s.left,-s.top,r,n]).style("font","10px sans-serif").style("user-select","none"),p=h.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),u=h.append("g").attr("cursor","pointer").attr("pointer-events","all");return function t(e){const n=E.c&&E.c.altKey?2500:250,i=c.descendants().reverse(),o=c.links();l(c);let a=c,m=c;c.eachBefore(t=>{t.x<a.x&&(a=t),t.x>m.x&&(m=t)});const f=m.x-a.x+s.top+s.bottom,w=h.transition().duration(n).attr("viewBox",[-s.left,a.x-s.top,r,f]).tween("resize",window.ResizeObserver?null:()=>()=>h.dispatch("toggle")),x=u.selectAll("g").data(i,t=>t.id),g=x.enter().append("g").attr("transform",t=>"translate(".concat(e.y0,",").concat(e.x0,")")).attr("fill-opacity",10).attr("stroke-opacity",10).on("click",e=>{if(e._children)e.children=e.children?null:e._children;else{const t=e.parent.children.filter(t=>t!==e);e.parent.children=t.length?t:null}t(e)});g.append("circle").attr("r",7).attr("fill",t=>t._children?"#555":"#999").attr("stroke-width",25),g.append("text").attr("dy","0.41em").attr("x",t=>t._children?-9:9).attr("text-anchor",t=>t._children?"end":"start").text(t=>t.data.name).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",2).attr("stroke",t=>t.data.stroke||"white"),x.merge(g).transition(w).attr("transform",t=>"translate(".concat(t.y,",").concat(t.x,")")).attr("fill-opacity",100).attr("stroke-opacity",1),x.exit().transition(w).remove().attr("transform",t=>"translate(".concat(e.y,",").concat(e.x,")")).attr("fill-opacity",0).attr("stroke-opacity",0);const y=p.selectAll("path").data(o,t=>t.target.id),S=y.enter().append("path").attr("d",t=>{const n={x:e.x0,y:e.y0};return d({source:n,target:n})});y.merge(S).transition(w).attr("d",d),y.exit().transition(w).remove().attr("d",t=>{const n={x:e.x,y:e.y};return d({source:n,target:n})}),c.eachBefore(t=>{t.x0=t.x,t.y0=t.y})}(c),h.node()},pie:function({chartData:t,width:e,height:n,fontSize:s}){const r=t.data,i=E.g().sort(null).value(t=>t.value),o=E.i().domain(r.map(t=>t.name)).range(E.h(t=>E.e(.8*t+.1),r.length).reverse()),a=E.a().innerRadius(0).outerRadius(Math.min(e,n)/2-1),c=(()=>{const t=Math.min(e,n)/2*.8;return E.a().innerRadius(t).outerRadius(t)})(),l=i(r),d=E.b("svg").attr("viewBox",[-e/2,-n/2,e,n]);return d.append("g").attr("stroke","white").selectAll("path").data(l).join("path").attr("fill",t=>t.data.fill||o(t.data.name)).attr("d",a).append("title").text(t=>"".concat(t.data.name,": ").concat(t.data.value.toLocaleString())),d.append("g").attr("font-family","sans-serif").attr("font-size",s).attr("text-anchor","middle").selectAll("text").data(l).join("text").attr("transform",t=>"translate(".concat(c.centroid(t),")")).call(t=>t.append("tspan").attr("y","-0.4em").attr("font-weight","bold").text(t=>t.data.name)).call(t=>t.filter(t=>t.endAngle-t.startAngle>.25).append("tspan").attr("x",0).attr("y","1em").attr("fill-opacity",.7).text(t=>t.data.value.toLocaleString())),d.node()}};var b=function(t){const e=t.id,n=t.opts,s=n.chart;return a.a.createElement("div",{ref:function(t){const e=S[s.type](s);t&&t.append(e)},id:e,className:"Chart"},n.title)},v=n(843);const I=function(){this.data=this.slides.current.data};I.prototype.View=function(){const t=this,e=t.data,n=t.ProgressorView,s=t.FooterView,r=t.slides.current,i=g.a.sync(e),o={code:y.a,Heading:v.b,Box:v.a,app:function(e){const n=e.slide.key.split(".").reduce((t,e)=>t=t[e],t);return"".concat(n)},Chart:b},c={jsx:i,app:t,timestamps:JSON.stringify(t.collectTimestamps(),null,"\t")},l=e,d=r.contentClassNamesWrapper?"SlideContent ".concat(r.contentClassNamesWrapper):"SlideContent";return a.a.createElement("div",{className:"MDX"},a.a.createElement(n,null),a.a.createElement("div",{className:d},a.a.createElement(w.a,{components:o,scope:c},l)),a.a.createElement(s,null))};var _=I;const k=parseInt("0"),j=function({count:t,index:e,level:n,among:s}){this.count="".concat(t-1),this.index="".concat(e-1).padStart(t.length,"0"),this.level="".concat(n),this.among="".concat(s),this.pager=(s>1?"".concat(this.index,".").concat(this.level):"".concat(this.index)).padEnd(4,".")};j.prototype.View=function(){return a.a.createElement("div",{className:"Footer",onClick:this.clickNext},a.a.createElement("span",{className:"myname"},"wentout"),a.a.createElement("span",{className:"slides"}," ",this.pager," \xbb ",this.count))};var L=j;const R=function(){};R.prototype.View=function(){const t=this.counters;return a.a.createElement(v.c,{min:1,max:t.amount,value:t.current})};var N=R;const C=function(t){const e=this;return function(){e.errored?window.alert("please press Ctrl + Esc to continue"):t()}};var O=function(){const t=this.slidePrev,e=this.slideNext,n=this.setSlideIndex,s=this.requestSlideNav,r=this.unsetErrored,i=C.bind(this),o=new window.keypress.Listener;o.simple_combo("left",i(t)),o.simple_combo("right",i(e)),o.simple_combo("space",i(e)),o.simple_combo("ctrl home",i(n.bind(this,0))),o.simple_combo("ctrl end",i(n.bind(this,-1))),o.simple_combo("ctrl m",i(s)),o.simple_combo("ctrl esc",()=>{r()})},P=n(316),T=n(6),V=n.n(T),D=n(313),M=n(314),A=n.n(M);const F=function(t){let e=0,n=[],s=0;const r={count:0,index:k,list:[],slideListIndex:e,direction:"next"},o=/print$/.test(window.location.href);Object.assign(this,{rootId:t,print:o,slides:r}),this.errored=!1,Object.defineProperty(this,"mnemonica",{get:()=>i.mnemonica}),Object.defineProperty(this,"utils",{get:()=>i.utils}),Object.defineProperty(this,"defaultCollection",{get:()=>i.defaultCollection}),Object.defineProperty(this.slides,"count",{get(){return this.list.length}}),Object.defineProperty(this.slides,"current",{get(){const t=n[e];return t.settings&&t.settings.length&&t.settings.forEach(e=>{Object.assign(t,e)}),t}}),Object.defineProperty(this.slides,"slideListLength",{get:()=>n.length}),Object.defineProperty(this.slides,"slideListIndex",{get:()=>e,set(t){e=parseInt(t)||0,window.sessionStorage&&window.sessionStorage.setItem("STARTER_SLIDE_LIST_INDEX",e)}}),Object.defineProperty(this,"errorMode",{get:()=>s,set(t){s=parseInt(t)||0}}),Object.defineProperty(this.slides,"slideList",{set(t){n=t,"next"===this.direction?this.slideListIndex=0:this.slideListIndex=n.length-1}}),Object.defineProperty(this,"counters",{get(){var e=this.slides.count,n=this.slides.index,s=this.slides.slideListIndex,r=this.slides.slideListLength,i=0,a=0;if(this.slides.list.forEach((t,e)=>{e===n&&(a=i+s),i=i+parseInt(t.split(" ")[1])+1}),o){const r=t.split("_");e=r[1],n=r[2],s=r[3]}return{count:e,index:n+1,level:s+1,among:r,amount:i-1,current:a}}}),Object.defineProperty(this,"failConstructorItself",{get(){return this.slides.current.failConstructorItself||!1}});const a=document.querySelector("#snowflakes-container"),c=new A.a({color:"white",container:a,count:100,minOpacity:.1,maxOpacity:.95,minSize:20,maxSize:50,rotation:!0,speed:2,wind:!1,height:1050,zIndex:100});c.stop(),Object.defineProperty(this,"startSnowflakes",{get:()=>()=>{a.style.display="block",c.start()}}),Object.defineProperty(this,"stopSnowflakes",{get:()=>()=>{a.style.display="none",c.stop()}})};F.prototype={init(){var t=this;return Object(D.a)(V.a.mark((function e(){var n,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="./".concat("slides-example","/list.txt"),e.next=3,fetch(n).then(t=>t.text()).catch(t=>t).then(t=>(t instanceof Error&&window.alert("something gone wrong"),t.split("\n").filter(Boolean).filter(t=>-1===t.indexOf("list.txt"))));case 3:return s=e.sent,t.slides.list.push(...s),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()},start(){if(this.print)this.startPrint();else if(this.starterPhase=!0,window.sessionStorage){const t=parseInt(window.sessionStorage.getItem("STARTER_SLIDE")||0);t<this.slides.list.length&&this.setSlideIndex(t)}else this.fetchSlide()},makeRender(){this.hideRootError(),this.root=new this.Slide,this.root.View()},setSlideIndex(t){const e=this.slides.count;if(void 0===t)t=this.slides.index;else{if("number"!==typeof t)throw new Error("index is not a number");if(t>=0&&t<e)this.slides.index=parseInt(t,10)||0;else{if(-1!==t)throw new Error("index is not valid");this.slides.index=e-1}}this.fetchSlide()},getNextSlide(){const t=this.slides.count;this.slides.index<t-1?this.slides.index++:this.slides.index=0,this.slides.direction="next",this.setSlideIndex()},getPrevSlide(){this.slides.index>0?this.slides.index--:this.slides.index=this.slides.count-1,this.slides.direction="prev",this.setSlideIndex()},slideNext(){const t=this.slides,e=t.slideListLength;t.slideListIndex=t.slideListIndex+1,t.slideListIndex>=e?this.getNextSlide():this.makeRender()},slidePrev(){const t=this.slides;t.slideListIndex=t.slideListIndex-1,t.slideListIndex<0?this.getPrevSlide():this.makeRender()},requestSlideNav(){const t=this.slides.count,e="please input slide number between 1 an ".concat(t+1),n=window.prompt(e);var s;try{-1===(s=parseInt(n,10)-1)&&(s=0)}catch(r){window.alert("invalid input")}try{this.setSlideIndex(s)}catch(r){window.alert(r.message)}},clickNext(){this.print||this.slideNext()},_fetchSlide(t){const e=t.split("."),n=Object(P.a)(e,2)[1],s={md:"MDX",mdx:"MDX",jsx:"Jsx"},r="json"===n?"json":"text";return fetch("./".concat("slides-example","/").concat(t)).then(t=>t[r]()).catch(t=>t).then(t=>{t instanceof Error&&window.alert("something wrong");let e=[""];if("json"===n)e=Array.isArray(t)?t:[t];else{const r=s[n];e=t.split("-----").reduce((t,e)=>{var n=!1,s=[];e=e.split("\n").map((t,e)=>{const r=t.trim();return 0===r.indexOf("```")?(n=!n,t):1===e&&0===r.indexOf("[")&&r.indexOf("]")===r.length-1?(s=JSON.parse(r),""):n?t:r}).join("\n");const i={view:r,data:e,settings:s||[]};return t.push(i),t},[])}return e})},fetchSlide(){const t=this,e=t.slides,n=e.index,s=e.list[n].split(" ")[0];this._fetchSlide(s).then(s=>{if(this.print)return void this.printFetched(s);let r=0;window.sessionStorage&&(window.sessionStorage.setItem("STARTER_SLIDE",n),this.starterPhase&&(this.starterPhase=!1,r=window.sessionStorage.getItem("STARTER_SLIDE_LIST_INDEX")||0)),e.slideList=s,r>0&&r<s.length&&(e.slideListIndex=r),t.makeRender()})},startPrint(){document.body.style.overflow="auto",document.body.className="print";const t=document.getElementById(this.rootId),e=this.slides.list.length;this.slides.list.reduce((n,s,r)=>{const i="slide_".concat(e,"_").concat(r),o=this.fork(i,!0);o.slides.list=[s.split(" ")[0]],o.slides.index=0;const a=document.createElement("div");return a.id=i,a.className="slideRoot",n.push({slide:o,slideRootId:i,slideRoot:a}),t.appendChild(a),o.fetchSlide(),n},[])},printFetched(t){const e=this.rootId,n=document.getElementById(e);t.forEach((t,s)=>{const r="".concat(e,"_").concat(s),i=this.fork(r,!0);i.slides.slideList=[t];const o=document.createElement("div");o.id=r,o.className="slide2print",n.appendChild(o),i.root=new i.Slide,i.makeRender()})},collectTypes(t,e){return void 0===e&&(e=this.defaultCollection),[...e].reduce((e,[n,s])=>{const r={name:n,children:[]};return s.subtypes instanceof Map&&s.subtypes.size>0?r.children=this.collectTypes(t,s.subtypes):("function"===typeof t&&(r.children=t(r)),"string"===typeof t&&(r.children=[{name:"".concat(n).concat(t)}])),e.push(r),e},[])},collectTimestamps(){return{[this.constructor.name]:new Date(this.__timestamp__),[this.parent().constructor.name]:new Date(this.parent().__timestamp__),[this.parent().parent().constructor.name]:new Date(this.parent().parent().__timestamp__)}},rootError:document.getElementById("rootError"),hideRootError(){this.rootError.style.display="none"},showRootError(t){this.rootError.style.display="block",this.rootError.innerHTML="<pre>".concat(t,"</pre>")},setErrored(...t){this.errored=t},unsetErrored(){this.errored=!1}};var B=F;const z=[(t,e)=>{t.instance.showRootError("<pre>".concat(t,"</pre>"))},(t,e)=>{const n=t.originalError;t.instance.showRootError("<pre>".concat(n.stack,"</pre>"))},(t,e)=>{const n=t.instance,s=t.exceptionReason,r=s.method,i=s.methodName,o=s.applyTo;try{const e=n.utils,s=n.mnemonica.lookup,r=e.collectConstructors;window.lastError=t,console.error("\u043b\u0435\u0436\u0438\u0442 \u0432 window.lastError"),console.error("error object instance: ",t.instance),window.lastErrorInstance=n,console.error("\u043b\u0435\u0436\u0438\u0442 \u0432 window.lastErrorInstance"),console.error("\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u044b error.instance \u0432 window.Chronotope"),window.ChronotopeTimeLine={[n.constructor.name]:n.__timestamp__,[n.parent().constructor.name]:n.parent().__timestamp__,[n.parent().parent().constructor.name]:n.parent().parent().__timestamp__},console.error("\u0421\u0422\u0420\u0423\u041a\u0422\u0423\u0420\u0410 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u0432 window.errorInstanceTree"),console.error("\u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u0432 window.errorInstanceChain"),window.exceptionReason=t.exceptionReason,console.error("\u041f\u0420\u0418\u0427\u0418\u041d\u0410 \u043e\u0448\u0438\u0431\u043a\u0438 window.exceptionReason"),window.Chronotope={[n.constructor.name]:n.constructor,[n.parent().constructor.name]:n.parent().constructor,[n.parent().parent().constructor.name]:n.parent().parent().constructor};const i=[...new Set(r(n,!0))],o=i.splice(0,3);window.errorInstanceChain=[...o,...i.splice(-1)];const a=o.reverse();window.exceptionConstructors={[a[0]]:s(a[0]),[a[1]]:s(a.slice(0,2).join(".")),[a[2]]:s(a.join("."))},console.error("\u041a\u041e\u041d\u0421\u0422\u0420\u0423\u041a\u0422\u041e\u0420\u042b : \u0432 window.exceptionConstructors"),console.error("TimeLine \u0432 window.ChronotopeTimeLine")}catch(c){}const a=[];a.push("<h1>\u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0432\u043e\u0442 \u044d\u0442\u043e :</h1>"),a.push("<br/><hr/><br/>"),a.push("<h1>1. \u0430\u043d\u0430\u043b\u0438\u0437 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430:</h1>"),a.push("<pre>instance.constructor: ".concat(n.constructor.name,"</pre>")),a.push("<pre>instance.parent(): ".concat(n.parent().constructor.name,"</pre>")),a.push("<pre>parent -> parent: ".concat(n.parent().parent().constructor.name,"\n\n</pre>")),a.push("<h1>2. \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430:</h1>"),a.push('<pre>\nSlide Data: " '.concat(n.data.trim(),' "\n</pre>')),a.push("<br/><hr/><br/>"),a.push("<h1>3. \u0438 \u0435\u0449\u0451 \u043d\u0435\u043c\u043d\u043e\u0436\u0435\u0441\u043a\u043e:</h1>"),a.push("<pre>\u0423\u043f\u0430\u043b\u043e \u0432 \u043c\u0435\u0442\u043e\u0434\u0435 [ ".concat(i," ] \u043e\u0431\u044a\u0435\u043a\u0442\u0430 ").concat(o.constructor.name," </pre>")),a.push("<pre>\u0441\u0430\u043c \u043c\u0435\u0442\u043e\u0434:</pre>"),a.push("<pre>".concat(r,"</pre>")),a.push("<br/><hr/><br/>"),a.push("<h1>\u0430 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u044c...</h1>"),n.showRootError(a.join(""))},(t,e)=>{const n=t.originalError,s=t.instance;console.error(n);const r=[];r.push("<h1>* &mdash; ".concat(s.slides.current.title,"</h1>")),r.push("<pre>".concat(n.stack,"</pre>")),s.showRootError(r.join(""))},(t,e)=>{const n=t.instance;console.error(t);const s=[];s.push("<h1>3. \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u044b\u0439 stack-trace:</h1>"),s.push("<pre>".concat(t.stack,"</pre>")),n.showRootError(s.join(""))},(t,e)=>{const n=t.originalError,s=t.instance;console.error(n);const r=[];r.push("<h1>* &mdash; ".concat(s.slides.current.title,"</h1>")),r.push("<pre>*".concat(t,"</pre>")),s.showRootError(r.join(""))},(t,e)=>{throw e.slides.current.setErrored&&e.setErrored(t),t.originalError}];i.defaultNamespace.registerHook("postCreation",(function({inheritedInstance:t}){Object.entries(t).forEach(([e,n])=>{"function"===typeof n&&(t[e]=(...e)=>{"MDX"===t.constructor.name&&t.failConstructorItself;try{return n.call(t,...e)}catch(s){const e=t.slides.current.errorMode;return z[e||0](s,t)||null}})})}));const X=Object(i.define)("Main",B),J=X.define("Slide",h);J.define("Title",u);const q=J.define("Starter",f);q.define("Progressor",N),q.define("Footer",L);const H=J.define("MDX",_);H.define("Progressor",N),H.define("Footer",L);const W=X.call(s.Component,"root");window.onerror=function(...t){W.setErrored(...t)},W.init().then(W.start).then(()=>{W.print||O.call(W)})}},[[391,1,2]]]);
//# sourceMappingURL=main.0b73d681.chunk.js.map