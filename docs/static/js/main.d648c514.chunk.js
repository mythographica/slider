(this["webpackJsonpmnemonica-react-slides"]=this["webpackJsonpmnemonica-react-slides"]||[]).push([[0],{342:function(e,t,n){e.exports=n(763)},363:function(e,t,n){},684:function(e,t){},763:function(e,t,n){"use strict";n.r(t);var s=n(98),i=n.n(s),r=n(58),o=(n(363),n(0)),a=n.n(o),c=n(765),d=n(101),l=n(764);var h=({count:e,index:t,level:n})=>(e="".concat(e),t="".concat(t).padStart(e.length,"0"),a.a.createElement("div",{className:"Footer"},a.a.createElement("h3",{className:"myname"},"github@wentout"),a.a.createElement("h3",{className:"slides"}," ",t,".",n," \xbb ",e)));const p=function(){this.rootElement=document.getElementById(this.rootId)};p.prototype.View=function(){const e=this.slides,t=this.counters,n=(new this[e.current.view]).View;i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,{theme:d.a},a.a.createElement(l.c,{min:1,max:t.count,value:t.index}),a.a.createElement(n,null)),a.a.createElement(h,t)),this.rootElement)};var u=p;const m=function(){Object.assign(this,this.slides.current)};m.prototype.View=function(){return a.a.createElement("div",{className:"Slide"},a.a.createElement("div",{className:"Title"},a.a.createElement("h1",null,this.title),a.a.createElement("h1",{className:"subtitle"},this.subtitle)))};var f=m;const x=function(){Object.assign(this,this.slides.current)};x.prototype.View=function(){return a.a.createElement("div",{className:"Slide"},a.a.createElement("div",{className:"Header"},a.a.createElement("h1",null,this.title)))};var y=x,w=n(286),g=n(100),v=n.n(g),b=n(285),E=n(34);const I={tree:function({chartData:e,dy:t,dx:n,margin:s,width:i,stash:r,print:o}){const a=E.c(e),c=E.e().nodeSize([t,n]),d=E.d().x(e=>e.y).y(e=>e.x);a.x0=t,a.y0=0,a.descendants().forEach((e,t)=>{e.id=t,e._children=e.children,o||e.depth&&r&&r.includes(e.data.name)&&(e.children=null)});const l=E.a("svg").attr("viewBox",[-s.left,-s.top,i,n]).style("font","10px sans-serif").style("user-select","none"),h=l.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),p=l.append("g").attr("cursor","pointer").attr("pointer-events","all");return function e(t){const n=E.b&&E.b.altKey?2500:250,r=a.descendants().reverse(),o=a.links();c(a);let u=a,m=a;a.eachBefore(e=>{e.x<u.x&&(u=e),e.x>m.x&&(m=e)});const f=m.x-u.x+s.top+s.bottom,x=l.transition().duration(n).attr("viewBox",[-s.left,u.x-s.top,i,f]).tween("resize",window.ResizeObserver?null:()=>()=>l.dispatch("toggle")),y=p.selectAll("g").data(r,e=>e.id),w=y.enter().append("g").attr("transform",e=>"translate(".concat(t.y0,",").concat(t.x0,")")).attr("fill-opacity",10).attr("stroke-opacity",10).on("click",t=>{t.children=t.children?null:t._children,e(t)});w.append("circle").attr("r",5).attr("fill",e=>e._children?"#555":"#999").attr("stroke-width",15),w.append("text").attr("dy","0.41em").attr("x",e=>e._children?-9:9).attr("text-anchor",e=>e._children?"end":"start").text(e=>e.data.name).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",5).attr("stroke","white"),y.merge(w).transition(x).attr("transform",e=>"translate(".concat(e.y,",").concat(e.x,")")).attr("fill-opacity",100).attr("stroke-opacity",1),y.exit().transition(x).remove().attr("transform",e=>"translate(".concat(t.y,",").concat(t.x,")")).attr("fill-opacity",0).attr("stroke-opacity",0);const g=h.selectAll("path").data(o,e=>e.target.id),v=g.enter().append("path").attr("d",e=>{const n={x:t.x0,y:t.y0};return d({source:n,target:n})});g.merge(v).transition(x).attr("d",d),g.exit().transition(x).remove().attr("d",e=>{const n={x:t.x,y:t.y};return d({source:n,target:n})}),a.eachBefore(e=>{e.x0=e.x,e.y0=e.y})}(a),l.node()}};var k=function(e){const t=e.id,n=e.opts,s=n.chart;return a.a.createElement("div",{ref:function(e){const t=I[s.type](s);e&&e.append(t)},id:t,className:"Chart"},n.title)};const S=function(){this.data=this.slides.current.data};S.prototype.View=function(){const e=this,t=e.data,n=v.a.sync(t),s={code:b.a,Heading:l.b,Box:l.a,app:function(t){const n=t.slide.key.split(".").reduce((e,t)=>e=e[t],e);return"".concat(n)},Chart:k},i={jsx:n,app:e},r=t;return a.a.createElement(c.a,{theme:d.a},a.a.createElement("div",{className:"Slide MDX"},a.a.createElement(w.a,{components:s,scope:i},r)))};var j=S,N=n(284),L=n(3),_=n.n(L),O=n(283);const P=function(e){let t=0,n=[];const s={count:0,index:0,list:[],slideListIndex:t,direction:"next"},i=/print$/.test(window.location.href);Object.assign(this,{rootId:e,print:i,slides:s}),Object.defineProperty(this.slides,"count",{get(){return this.list.length}}),Object.defineProperty(this.slides,"current",{get:()=>n[t]}),Object.defineProperty(this.slides,"slideListLength",{get:()=>n.length}),Object.defineProperty(this.slides,"slideListIndex",{get:()=>t,set(e){t=parseInt(e)||0}}),Object.defineProperty(this.slides,"slideList",{set(e){n=e,t="next"===this.direction?0:n.length-1}}),Object.defineProperty(this,"counters",{get(){var t=this.slides.count,n=this.slides.index,s=this.slides.slideListIndex;if(i){const i=e.split("_");t=i[1],n=i[2],s=i[3]}return{count:parseInt(t),index:parseInt(n)+1,level:parseInt(s)+1}}})};P.prototype={init(){var e=this;return Object(O.a)(_.a.mark((function t(){var n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.root=new e.Root,t.next=3,fetch("./slides/list.txt").then(e=>e.text()).catch(e=>e).then(e=>(e instanceof Error&&window.alert("something wrong"),e.split("\n").filter(Boolean).filter(e=>"list.txt"!==e)));case 3:return n=t.sent,e.slides.list.push(...n),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))()},start(){this.print?this.startPrint():this.fetchSlide()},makeRender(){this.root.View()},setSlideIndex(e){const t=this.slides.count;if(void 0===e)e=this.slides.index;else{if("number"!==typeof e)throw new Error("index is not a number");if(e>=0&&e<t)this.slides.index=parseInt(e,10)||0;else{if(-1!==e)throw new Error("index is not valid");this.slides.index=t-1}}this.fetchSlide()},getNextSlide(){const e=this.slides.count;this.slides.index<e-1?this.slides.index++:this.slides.index=0,this.slides.direction="next",this.setSlideIndex()},getPrevSlide(){this.slides.index>0?this.slides.index--:this.slides.index=this.slides.count-1,this.slides.direction="prev",this.setSlideIndex()},slideNext(){const e=this.slides,t=e.slideListLength;e.slideListIndex=e.slideListIndex+1,e.slideListIndex>=t?this.getNextSlide():this.makeRender()},slidePrev(){const e=this.slides;e.slideListIndex=e.slideListIndex-1,e.slideListIndex<0?this.getPrevSlide():this.makeRender()},_fetchSlide(e){const t=e.split("."),n=Object(N.a)(t,2)[1],s={md:"Mdx",mdx:"Mdx",jsx:"Jsx"},i="json"===n?"json":"text";return fetch("./slides/".concat(e)).then(e=>e[i]()).catch(e=>e).then(e=>{e instanceof Error&&window.alert("something wrong");let t=[""];if("json"===n)t=Array.isArray(e)?e:[e];else{const i=s[n];t=e.split("-----").reduce((e,t)=>(t=t.split("\n").map(e=>e.trim()).join("\n"),e.push({view:i,data:t}),e),[])}return t})},fetchSlide(){const e=this,t=e.slides,n=t.index,s=t.list;t.slideListIndex=0;const i=s[n];this._fetchSlide(i).then(n=>{this.print?this.printFetched(n):(t.slideList=n,e.makeRender())})},startPrint(){document.body.style.overflow="auto",document.body.className="print";const e=document.getElementById(this.rootId),t=this.slides.list.length;this.slides.list.reduce((n,s,i)=>{const r="slide_".concat(t,"_").concat(i),o=this.fork(r,!0);o.slides.list=[s],o.slides.index=0;const a=document.createElement("div");return a.id=r,a.className="slideRoot",n.push({slide:o,slideRootId:r,slideRoot:a}),e.appendChild(a),o.fetchSlide(),n},[])},printFetched(e){const t=this.rootId,n=document.getElementById(t);e.forEach((e,s)=>{const i="".concat(t,"_").concat(s),r=this.fork(i,!0);r.slides.slideList=[e];const o=document.createElement("div");o.id=i,o.className="slide2print",n.appendChild(o),r.root=new r.Root,r.makeRender()})},collectTypes(e,t=r.defaultCollection){return[...t].reduce((t,[n,s])=>{const i={name:n};return s.subtypes instanceof Map&&s.subtypes.size>0?i.children=this.collectTypes(e,s.subtypes):("function"===typeof e&&(i.children=e(i)),"string"===typeof e&&(i.children=[{name:"".concat(n).concat(e)}])),t.push(i),t},[])}};var R=P;window.onerror=function(...e){console.log(e)},r.defaultNamespace.registerHook("postCreation",(function({inheritedInstance:e}){Object.entries(Object.getPrototypeOf(e)).forEach(([t,n])=>{"function"===typeof n&&(e[t]=(...t)=>{try{return n.call(e,...t)}catch(s){throw s.instance=e,s}})})}));const B=Object(r.define)("Main",R);B.define("Keys",(function(){const e=this,t=new window.keypress.Listener;t.simple_combo("left",e.slidePrev),t.simple_combo("right",e.slideNext),t.simple_combo("space",e.slideNext),t.simple_combo("home",e.setSlideIndex.bind(e,0)),t.simple_combo("end",e.setSlideIndex.bind(e,-1)),t.simple_combo("ctrl m",()=>{const t=e.slides.count,n="please input slide number between 1 an ".concat(t+1),s=window.prompt(n);var i;try{-1===(i=parseInt(s,10)-1)&&(i=0)}catch(r){window.alert("invalid input")}try{e.setSlideIndex(i)}catch(r){window.alert(r.message)}})}));const C=B.define("Root",u);C.define("Title",f),C.define("Header",y),C.define("Mdx",j);const M=B.call(s.Component,"root");M.init().then(M.start).then(()=>{M.print||new M.Keys})}},[[342,1,2]]]);
//# sourceMappingURL=main.d648c514.chunk.js.map