(this["webpackJsonpmnemonica-react-slides"]=this["webpackJsonpmnemonica-react-slides"]||[]).push([[0],{342:function(e,t,n){e.exports=n(763)},363:function(e,t,n){},684:function(e,t){},763:function(e,t,n){"use strict";n.r(t);var i=n(98),s=n.n(i),r=n(58),a=(n(363),n(0)),o=n.n(a),c=n(765),l=n(101),d=n(764);var h=({count:e,index:t,scale:n})=>(e="".concat(e),t="".concat(t).padStart(e.length,"0"),o.a.createElement("div",{className:"Footer"},o.a.createElement("h3",{className:"myname"},"github@wentout"),o.a.createElement("h3",{className:"slides"}," ",t," \xbb ",e)));const p=function(){this.rootElement=document.getElementById(this.rootId)};p.prototype.View=function(){const e=this.slides,t=e.current,n=e.index,i=e.count,r=(new this[t.view]).View;s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.a,{theme:l.a},o.a.createElement(d.c,{min:0,max:i-1,value:n}),o.a.createElement(r,null),o.a.createElement(h,e))),this.rootElement)};var u=p;const m=function(){Object.assign(this,this.slides.current)};m.prototype.View=function(){return o.a.createElement("div",{className:"Title"},o.a.createElement("h1",null,this.title),o.a.createElement("h1",{className:"subtitle"},this.subtitle))};var x=m;const f=function(){Object.assign(this,this.slides.current)};f.prototype.View=function(){return o.a.createElement("div",{className:"Header"},o.a.createElement("h1",null,this.title))};var y=f,w=n(286),g=n(100),b=n.n(g),v=n(285),E=n(34);const k={tree:function({chartData:e,dy:t,dx:n,margin:i,width:s,stash:r}){const a=E.c(e),o=E.e().nodeSize([t,n]),c=E.d().x(e=>e.y).y(e=>e.x);a.x0=t,a.y0=0,a.descendants().forEach((e,t)=>{e.id=t,e._children=e.children,e.depth&&r&&r.includes(e.data.name)&&(e.children=null)});const l=E.a("svg").attr("viewBox",[-i.left,-i.top,s,n]).style("font","10px sans-serif").style("user-select","none"),d=l.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),h=l.append("g").attr("cursor","pointer").attr("pointer-events","all");return function e(t){const n=E.b&&E.b.altKey?2500:250,r=a.descendants().reverse(),p=a.links();o(a);let u=a,m=a;a.eachBefore(e=>{e.x<u.x&&(u=e),e.x>m.x&&(m=e)});const x=m.x-u.x+i.top+i.bottom,f=l.transition().duration(n).attr("viewBox",[-i.left,u.x-i.top,s,x]).tween("resize",window.ResizeObserver?null:()=>()=>l.dispatch("toggle")),y=h.selectAll("g").data(r,e=>e.id),w=y.enter().append("g").attr("transform",e=>"translate(".concat(t.y0,",").concat(t.x0,")")).attr("fill-opacity",10).attr("stroke-opacity",10).on("click",t=>{t.children=t.children?null:t._children,e(t)});w.append("circle").attr("r",5).attr("fill",e=>e._children?"#555":"#999").attr("stroke-width",15),w.append("text").attr("dy","0.41em").attr("x",e=>e._children?-9:9).attr("text-anchor",e=>e._children?"end":"start").text(e=>e.data.name).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",5).attr("stroke","white"),y.merge(w).transition(f).attr("transform",e=>"translate(".concat(e.y,",").concat(e.x,")")).attr("fill-opacity",100).attr("stroke-opacity",1),y.exit().transition(f).remove().attr("transform",e=>"translate(".concat(t.y,",").concat(t.x,")")).attr("fill-opacity",0).attr("stroke-opacity",0);const g=d.selectAll("path").data(p,e=>e.target.id),b=g.enter().append("path").attr("d",e=>{const n={x:t.x0,y:t.y0};return c({source:n,target:n})});g.merge(b).transition(f).attr("d",c),g.exit().transition(f).remove().attr("d",e=>{const n={x:t.x,y:t.y};return c({source:n,target:n})}),a.eachBefore(e=>{e.x0=e.x,e.y0=e.y})}(a),l.node()}};var I=function(e){const t=e.id,n=e.opts,i=n.chart;return o.a.createElement("div",{ref:function(e){const t=k[i.type](i);e&&e.append(t)},id:t,className:"Chart"},n.title)};const j=function(){this.data=this.slides.current.data};j.prototype.View=function(){const e=this,t=e.data,n=b.a.sync(t),i={code:v.a,Heading:d.b,Box:d.a,app:function(t){const n=t.slide.key.split(".").reduce((e,t)=>e=e[t],e);return"".concat(n)},Chart:I},s={jsx:n,app:e},r=t;return o.a.createElement(c.a,{theme:l.a},o.a.createElement("div",{className:"Slide"},o.a.createElement(w.a,{components:i,scope:s},r)))};var L=j,S=n(284),N=n(3),O=n.n(N),_=n(283);const P=function(e){let t=0,n=[];this.rootId=e,this.slides={count:0,index:0,list:[],slideListIndex:t,direction:"next"},Object.defineProperty(this.slides,"count",{get(){return this.list.length}}),Object.defineProperty(this.slides,"current",{get:()=>n[t]}),Object.defineProperty(this.slides,"slideListLength",{get:()=>n.length}),Object.defineProperty(this.slides,"slideListIndex",{get:()=>t,set(e){t=parseInt(e)||0}}),Object.defineProperty(this.slides,"slideList",{set(e){Array.isArray(e)?(n=e,t="next"===this.direction?0:n.length-1):n=[e]}})};P.prototype={init(){var e=this;return Object(_.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.root=new e.Root,t.next=3,fetch("./slides/list.txt").then(e=>e.text()).catch(e=>e).then(e=>(e instanceof Error&&window.alert("something wrong"),e.split("\n").filter(Boolean).filter(e=>"list.txt"!==e)));case 3:return n=t.sent,e.slides.list.push(...n),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))()},start(){this.fetchSlide()},makeRender(){this.root.View()},setSlideIndex(e){const t=this.slides.count;if(void 0===e)e=this.slides.index;else{if("number"!==typeof e)throw new Error("index is not a number");if(e>=0&&e<t)this.slides.index=parseInt(e,10)||0;else{if(-1!==e)throw new Error("index is not valid");this.slides.index=t-1}}this.fetchSlide()},getNextSlide(){const e=this.slides.count;this.slides.index<e-1?this.slides.index++:this.slides.index=0,this.slides.direction="next",this.setSlideIndex()},getPrevSlide(){this.slides.index>0?this.slides.index--:this.slides.index=this.slides.count-1,this.slides.direction="prev",this.setSlideIndex()},slideNext(){const e=this.slides,t=e.slideListLength;e.slideListIndex=e.slideListIndex+1,e.slideListIndex>=t?this.getNextSlide():this.makeRender()},slidePrev(){const e=this.slides;e.slideListIndex=e.slideListIndex-1,e.slideListIndex<0?this.getPrevSlide():this.makeRender()},fetchSlide(){const e=this,t=e.slides,n=t.index,i=t.list;t.slideListIndex=0;const s=i[n],r=s.split("."),a=Object(S.a)(r,2)[1],o={md:"Mdx",mdx:"Mdx",jsx:"Jsx"},c="json"===a?"json":"text";fetch("./slides/".concat(s)).then(e=>e[c]()).catch(e=>e).then(n=>{if(n instanceof Error&&window.alert("something wrong"),"json"===a)Array.isArray(n),t.slideList=n;else{const e=o[a],i=n.split("-----").reduce((t,n)=>(n=n.split("\n").map(e=>e.trim()).join("\n"),t.push({view:e,data:n}),t),[]);t.slideList=i}e.makeRender()})},collectTypes(e,t=r.defaultCollection){return[...t].reduce((t,[n,i])=>{const s={name:n};return i.subtypes instanceof Map&&i.subtypes.size>0?s.children=this.collectTypes(e,i.subtypes):("function"===typeof e&&(s.children=e(s)),"string"===typeof e&&(s.children=[{name:"".concat(n).concat(e)}])),t.push(s),t},[])}};var B=P;window.onerror=function(...e){console.log(e)},r.defaultNamespace.registerHook("postCreation",(function({inheritedInstance:e}){Object.entries(Object.getPrototypeOf(e)).forEach(([t,n])=>{"function"===typeof n&&(e[t]=(...t)=>{try{return n.call(e,...t)}catch(i){throw i.instance=e,i}})})}));const R=Object(r.define)("Main",B),A=R.define("Root",u);A.define("Title",x),A.define("Header",y),A.define("Mdx",L);const M=R.call(i.Component,"root");M.init().then(M.start).then(function(){const e=this,t=new window.keypress.Listener;t.simple_combo("left",e.slidePrev),t.simple_combo("right",e.slideNext),t.simple_combo("space",e.slideNext),t.simple_combo("home",e.setSlideIndex.bind(e,0)),t.simple_combo("end",e.setSlideIndex.bind(e,-1)),t.simple_combo("ctrl m",()=>{const t=e.slides.count,n="please input slide number between 1 an ".concat(t+1),i=window.prompt(n);var s;try{-1===(s=parseInt(i,10)-1)&&(s=0)}catch(r){window.alert("invalid input")}try{e.setSlideIndex(s)}catch(r){window.alert(r.message)}})}.bind(M)),window.addEventListener("click",e=>{e.target&&"circle"!==e.target.tagName&&M.slideNext()})}},[[342,1,2]]]);
//# sourceMappingURL=main.e91d3d78.chunk.js.map